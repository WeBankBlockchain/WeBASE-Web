(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"3xwS":function(t,a,e){"use strict";var n=e("Jz3/");e.n(n).a},"Jz3/":function(t,a,e){var n=e("NoWN");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e("SZ7m").default)("7ea7190e",n,!1,{})},NoWN:function(t,a,e){(t.exports=e("JPst")(!1)).push([t.i,'\n.over-view-wrapper[data-v-39f87be5] {\r\n    background: #f7f7f7;\n}\n.amount-wrapper[data-v-39f87be5] {\r\n    margin: 30px 30px 0 31px;\n}\n.font-12[data-v-39f87be5] {\r\n    font-size: 12px;\r\n    color: #9da2ab;\n}\n.part1-content[data-v-39f87be5] {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    background: #f7f7f7;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-direction: row;\r\n            flex-direction: row;\r\n    -ms-flex-wrap: nowrap;\r\n        flex-wrap: nowrap;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\n}\n.split-line[data-v-39f87be5] {\r\n    margin-left: 22px;\r\n    margin-top: 10px;\r\n    margin-bottom: 5px;\r\n    margin-right: 20px;\r\n    opacity: 0.25;\n}\n.overview-number[data-v-39f87be5] {\r\n    margin-top: 20px;\r\n    margin-left: 20px;\r\n    padding: 20px;\n}\n.part1-content-amount[data-v-39f87be5] {\r\n    overflow: auto;\r\n    min-width: 112px;\n}\n.part2-title[data-v-39f87be5] {\r\n    padding: 22px 31px 26px 32px;\n}\n.part2-title[data-v-39f87be5]::after {\r\n    display: block;\r\n    content: "";\r\n    clear: both;\n}\n.part2-title-left[data-v-39f87be5] {\r\n    float: left;\r\n    font-size: 16px;\r\n    color: #000e1f;\r\n    font-weight: bold;\n}\n.part2-title-right[data-v-39f87be5] {\r\n    float: right;\r\n    font-size: 12px;\r\n    color: #727476;\r\n    padding: 2px 12px;\r\n    border-radius: 20px;\r\n    background: #f6f6f6;\n}\n.part3-title[data-v-39f87be5] {\r\n    padding: 40px 60px 40px 40px;\n}\n.part3-title[data-v-39f87be5]::after {\r\n    display: block;\r\n    content: "";\r\n    clear: both;\n}\n.more-content[data-v-39f87be5] {\r\n    font-size: 14px;\r\n    color: #2d5f9e;\r\n    cursor: pointer;\n}\n.part3-table-content[data-v-39f87be5] {\r\n    width: 100%;\r\n    padding: 0 39px 48px 40px;\r\n    font-size: 12px;\n}\n.part3-table-content[data-v-39f87be5] th,\r\n.part3-table-content[data-v-39f87be5] td {\r\n    padding: 8px 0;\n}\n.part1-details-bottom[data-v-39f87be5] {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-flow: row nowrap;\r\n            flex-flow: row nowrap;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\n}\n.part1-details-arrow-right[data-v-39f87be5] {\r\n    position: relative;\r\n    top: 4px;\n}\n.search-table-content[data-v-39f87be5] {\r\n    width: 100%;\n}\n.search-table-content[data-v-39f87be5] th {\r\n    background: #fafafa;\r\n    color: #00122c;\n}\n.search-table-content[data-v-39f87be5] th,\r\n.search-table-content[data-v-39f87be5] td {\r\n    font-size: 14px;\n}\n.overview-wrapper[data-v-39f87be5] {\r\n    background: #fff;\r\n    font-size: 15px;\r\n    -webkit-box-shadow: 0 4px 12px 0 #dfe2e9;\r\n            box-shadow: 0 4px 12px 0 #dfe2e9;\r\n    border-radius: 2px;\n}\n.overview-wrapper > p[data-v-39f87be5] {\r\n    padding: 26px 18px 0px 22px;\r\n    border-bottom: 1px solid #f2f2f2;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\n}\n.overview-title[data-v-39f87be5] {\r\n    font-size: 15px;\r\n    color: #2e384d;\r\n    padding-bottom: 22px;\r\n    border-bottom: 2px solid #2e384d;\n}\n.overview-more[data-v-39f87be5] {\r\n    font-size: 14px;\r\n    color: #2fcdd1;\n}\n.block-item[data-v-39f87be5] {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-flow: row;\r\n            flex-flow: row;\r\n    -webkit-box-pack: justify;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n    padding-bottom: 10px;\n}\n.block-amount[data-v-39f87be5] {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-flow: column;\r\n            flex-flow: column;\n}\n.overview-item-base[data-v-39f87be5] {\r\n    margin: 26px 18px 30px 22px;\n}\n.block-miner[data-v-39f87be5] {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n        -ms-flex-flow: row wrap;\r\n            flex-flow: row wrap;\n}\n.block-miner > p[data-v-39f87be5] {\r\n    max-width: 80px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-left: 10px;\n}\n.trans-hash[data-v-39f87be5] {\r\n    max-width: 300px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\n}\n.node-ip[data-v-39f87be5] {\r\n    color: #2d5f9e;\n}\r\n',""])},d7gD:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"over-view-wrapper"},[e("v-content-head",{attrs:{headTitle:"数据概览"}}),t._v(" "),e("div",{staticStyle:{"margin-bottom":"12px"}},[e("el-row",[e("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingNumber,expression:"loadingNumber"}],attrs:{xs:24,sm:24,md:11,lg:10,xl:8}},[e("el-row",{staticClass:"module-box-shadow bg-fff",staticStyle:{padding:"0 20px 20px 0",margin:"8px"}},t._l(t.detailsList,function(a,n){return e("el-col",{key:n,attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[e("div",{staticClass:"overview-number cursor-pointer",style:{background:""+a.color},on:{click:function(e){return t.goDetailRouter(a)}}},[e("div",{staticClass:"part1-content-amount"},[e("span",{staticClass:"font-14"},[t._v(t._s(a.label))])]),t._v(" "),e("div",{staticClass:"font-color-8798ad text-right",staticStyle:{"margin-top":"10px"}},[e("span",{staticClass:"font-color-2e384d font-24"},[t._v(t._s(t.numberFormat(a.value,0,".",",")))])])])])}),1)],1),t._v(" "),e("el-col",{attrs:{xs:24,sm:24,md:13,lg:14,xl:16}},[e("div",{staticClass:"module-box-shadow bg-fff",staticStyle:{margin:"8px 8px 0 8px"}},[e("div",{staticClass:"part2-title"},[e("span",{staticClass:"part2-title-left"},[t._v("关键监控指标")]),t._v(" "),e("span",{staticClass:"part2-title-right"},[t._v("最近有交易的7天交易量（笔）")])]),t._v(" "),e("div",{ref:"chart",staticClass:"chart"},[t.chartStatistics.show?e("v-chart",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCharts,expression:"loadingCharts"}],ref:"linechart",attrs:{id:"homeId",data:t.chartStatistics.date,transactionDataArr:t.chartStatistics.dataArr,size:t.chartStatistics.chartSize}}):t._e()],1)])])],1)],1),t._v(" "),e("div",{staticClass:"module-wrapper-small",staticStyle:{padding:"30px 31px 26px 32px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingNodes,expression:"loadingNodes"}],staticClass:"search-table-content",attrs:{data:t.nodeData}},t._l(t.nodeHead,function(a){return e("el-table-column",{key:a.enName,attrs:{label:a.name,"show-overflow-tooltip":"",align:""},scopedSlots:t._u([{key:"default",fn:function(n){return[["nodeActive"===a.enName?e("span",[e("i",{staticClass:"wbs-icon-radio font-6",style:{color:t.textColor(n.row[a.enName])}}),t._v(" "+t._s(t.nodesStatus(n.row[a.enName]))+"\n                        ")]):"nodeIp"===a.enName?e("span",[e("router-link",{staticClass:"node-ip",attrs:{to:{path:"hostDetail",query:{nodeIp:n.row.nodeIp,nodeId:n.row.nodeId}}}},[t._v(t._s(n.row[a.enName]))])],1):e("span",[t._v(t._s(n.row[a.enName]))])]]}}],null,!0)})}),1)],1),t._v(" "),e("div",{staticStyle:{"min-width":"540px",margin:"8px 8px 0px 9px"}},[e("el-row",{attrs:{gutter:16}},[e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"overview-wrapper"},[e("p",[e("span",{staticClass:"overview-title"},[t._v("区块")]),t._v(" "),e("span",{staticClass:"overview-more cursor-pointer",on:{click:function(a){return t.goRouter("blocks")}}},[t._v("更多")])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBlock,expression:"loadingBlock"}],staticClass:"overview-item-base"},t._l(t.blockData,function(a){return e("div",{staticClass:"block-item font-color-2e384d"},[e("div",{staticClass:"block-amount"},[e("span",[e("router-link",{staticClass:"node-ip",attrs:{to:{path:"transactionInfo",query:{blockNumber:a.blockNumber}}}},[t._v("块高 "+t._s(a.blockNumber))])],1),t._v(" "),e("span",{staticClass:"font-color-8798ad"},[t._v(t._s(a.blockTimestamp))])]),t._v(" "),e("div",[e("div",{staticClass:"block-miner"},[e("span",[t._v("出块者")]),t._v(" "),e("p",{attrs:{title:""+a.miner}},[t._v(t._s(a.miner))])])])])}),0)])]),t._v(" "),e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"overview-wrapper"},[e("p",[e("span",{staticClass:"overview-title"},[t._v("交易")]),t._v(" "),e("span",{staticClass:"overview-more cursor-pointer",on:{click:function(a){return t.goRouter("transactions")}}},[t._v("更多")])]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTransaction,expression:"loadingTransaction"}],staticClass:"overview-item-base"},t._l(t.transactionList,function(a){return e("div",{staticClass:"block-item font-color-2e384d"},[e("div",{staticClass:"block-amount"},[e("p",{staticClass:"trans-hash",attrs:{title:""+a.transHash}},[e("router-link",{staticClass:"node-ip",attrs:{to:{path:"transactionInfo",query:{blockNumber:a.transHash}}}},[t._v(t._s(a.transHash))])],1),t._v(" "),e("span",{staticClass:"font-color-8798ad"},[t._v(t._s(a.blockTimestamp))])])])}),0)])])],1)],1)],1)};n._withStripped=!0;var r=e("qse9"),o=function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{"padding-left":"30px","padding-bottom":"2px","marin-bottom":"12px"}},[a("div",{staticStyle:{height:"200px",margin:"0 auto"},attrs:{id:this.chartId}})])};o._withStripped=!0;var i=e("YEIV"),s=e.n(i),l=e("ProS");e("75ce"),e("Ynxi"),e("AH3D"),e("zRKj"),e("0o9m"),e("Cm0C");var c={name:"charts",props:["type","id","data","transactionDataArr","size"],data:function(){return{chartId:this.id,chartData:this.data,chartTransactionDataArr:this.transactionDataArr,chartSize:this.size,chart:""}},watch:{data:function(){this.chartId=this.id,this.chartData=this.data,this.chartTransactionDataArr=this.transactionDataArr,this.chartSize=this.size,this.chartShow()}},mounted:function(){this.$nextTick(function(){this.chartShow()})},beforeDestroy:function(){window.onresize=null,this.chart&&this.chart.dispose()},methods:{chartShow:function(){var t,a=this;this.chart=l.init(document.getElementById(this.chartId));this.chartData.length;var e={legend:{height:this.chartSize.height,width:this.chartSize.width},tooltip:{show:!0,trigger:"axis",formatter:function(t){return'<span style="font-size:10px">'+t[0].name+'</span><br><table ><tr><td style="padding:0"><span style="font-size:10px;color:white">交易量：'+t[0].value+"笔</a></span><br></td></tr></table>"}},grid:{left:43,right:33,top:7,bottom:40},series:[(t={type:"line",symbolSize:1,itemStyle:{normal:{color:"#2878ff",lineStyle:{color:"#2878ff"}}}},s()(t,"symbolSize",5),s()(t,"data",this.chartTransactionDataArr),t)],xAxis:{data:this.chartData,axisLine:{lineStyle:{color:"#e9e9e9",width:2}},axisLabel:{interval:1,textStyle:{color:"rgba(0,14,31,0.62)"}}},yAxis:{axisLine:{show:!1,lineStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#e9e9e9"}},axisTick:{show:!1},axisLabel:{formatter:function(t,a){return t>1e3&&t<1e6?t/1e3+"K":t>1e6||1e6===t?t/1e6+"M":t+""},textStyle:{color:"rgba(0,14,31,0.62)"}}}};this.chart.setOption(e,!0),window.onresize=function(){a.chart.resize()}}}},d=e("KHd+"),p=Object(d.a)(c,o,[],!1,null,null,null);p.options.__file="src/views/home/components/chart.vue";var f=p.exports,h=e("mHBk"),b=e("DgvE"),m=e("oYx3"),u=e("p5Bo"),v=e("XJYT"),x={name:"home",components:{"v-content-head":r.a,"v-chart":f},data:function(){return{loadingNumber:!1,loadingCharts:!1,loadingNodes:!1,loadingBlock:!1,loadingTransaction:!1,numberFormat:b.g,detailsList:[{label:"节点个数",name:"nodeCount",value:0,color:"#8693f3"},{label:"已部署的智能合约",name:"contractCount",value:0,color:"#bc8dee"},{label:"区块数量",name:"latestBlock",value:0,color:"#ffa897"}],networkDetails:null,chartStatistics:{show:!1,date:[],dataArr:[],chartSize:{width:0,height:0}},reloadNumber:!0,networkId:localStorage.getItem("networkId"),nodeHead:[{enName:"orgName",name:"机构名称"},{enName:"nodeName",name:"节点名称"},{enName:"blockNumber",name:"块高"},{enName:"pbftView",name:"pbftView"},{enName:"nodeIp",name:"ip"},{enName:"p2pPort",name:"p2p端口"},{enName:"rpcPort",name:"rpc端口"},{enName:"nodeActive",name:"状态"}],nodeData:[],blockData:[],transactionList:[]}},mounted:function(){this.networkId=localStorage.getItem("networkId"),this.getNetworkDetails(),this.getNodeTable(),this.getBlockList(),this.getTransaction(),this.$nextTick(function(){this.chartStatistics.chartSize.width=this.$refs.chart.offsetWidth,this.chartStatistics.chartSize.height=this.$refs.chart.offsetHeight,this.getChart()})},destroyed:function(){},methods:{getNetworkDetails:function(){var t=this;this.loadingNumber=!0;var a=this.networkId;Object(h.s)(a).then(function(a){t.loadingNumber=!1,0===a.data.code?t.detailsList.forEach(function(t,e){for(var n in a.data.data)t.name===n&&(t.value=a.data.data[n])}):(t.$message({type:"error",message:u.a.errCode[a.data.code].cn}),v.Message.closeAll())}).catch(function(a){t.$message({type:"error",message:"系统错误！"}),v.Message.closeAll()})},getChart:function(){var t=this;this.loadingCharts=!0,this.chartStatistics.show=!1,this.chartStatistics.date=[],this.chartStatistics.dataArr=[];var a=localStorage.getItem("networkId");Object(h.o)(a).then(function(a){if(t.loadingCharts=!1,0===a.data.code){for(var e=Object(b.a)(a.data.data),n=0;n<e.length;n++)t.chartStatistics.date.push(e[n].day),t.chartStatistics.dataArr.push(e[n].transCount);t.$set(t.chartStatistics,"show",!0)}else t.$message({type:"error",message:u.a.errCode[a.data.code].cn}),v.Message.closeAll()}).catch(function(a){t.$message({type:"error",message:"系统错误！"}),v.Message.closeAll()})},getNodeTable:function(){var t=this;this.loadingNodes=!0;var a=localStorage.getItem("networkId"),e={networkId:a,pageNumber:1,pageSize:4};Object(h.t)(e,{}).then(function(a){t.loadingNodes=!1,0===a.data.code?(t.total=a.data.totalCount,t.nodeData=a.data.data||[],t.nodeData.forEach(function(t,a){0===t.status?t.value="运行":1===t.status&&(t.value="停止")})):(t.$message({message:u.a.errCode[a.data.code].cn,type:"error",duration:2e3}),v.Message.closeAll())}).catch(function(a){t.$message({message:"查询失败！",type:"error",duration:2e3}),v.Message.closeAll()})},getBlockList:function(){var t=this;this.loadingBlock=!0;var a={networkId:localStorage.getItem("networkId"),pageNumber:1,pageSize:6};Object(h.m)(a,{}).then(function(a){t.loadingBlock=!1,0===a.data.code?t.blockData=a.data.data:(t.$message({message:u.a.errCode[a.data.code].cn,type:"error",duration:2e3}),v.Message.closeAll())}).catch(function(a){t.$message({message:"系统错误！",type:"error",duration:2e3}),v.Message.closeAll()})},getTransaction:function(){var t=this;this.loadingTransaction=!0;var a={networkId:localStorage.getItem("networkId"),pageNumber:1,pageSize:6};Object(h.u)(a,{}).then(function(a){t.loadingTransaction=!1,0===a.data.code?t.transactionList=a.data.data:(t.$message({message:u.a.errCode[a.data.code].cn,type:"error",duration:2e3}),v.Message.closeAll())}).catch(function(a){t.$message.error("系统错误"),v.Message.closeAll()})},goDetailRouter:function(t){switch(t.name){case"latestBlock":m.a.push("blockInfo");break;case"transactionCount":m.a.push("transactionInfo");break;case"nodeCount":m.a.push({path:"group",query:{from:"home"}});break;case"contractCount":m.a.push({path:"contract",query:{from:"home"}})}},bindSvg:function(t){var a="";switch(t.name){case"orgCount":a="#wbs-icon-h-group";break;case"nodeCount":a="#wbs-icon-h-nodes";break;case"contractCount":a="#wbs-icon-h-deploy";break;case"latestBlock":a="#wbs-icon-h-block";break;case"transactionCount":a="#wbs-icon-transaction"}return a},textColor:function(t){var a="";switch(t){case 1:a="#58cb7d";break;case 2:a="#ed5454"}return a},nodesStatus:function(t){var a="";switch(t){case 1:a="运行";break;case 2:a="停止"}return a},goRouter:function(t){switch(t){case"blocks":m.a.push("blockInfo");break;case"transactions":m.a.push("transactionInfo")}}}},g=(e("3xwS"),Object(d.a)(x,n,[],!1,null,"39f87be5",null));g.options.__file="src/views/home/home.vue";a.default=g.exports}}]);